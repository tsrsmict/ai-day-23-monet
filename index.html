<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guess the AI-generated photo</title>
    <link rel="stylesheet" href="tailwind-compiled-styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Oxanium:wght@200;400;500;600;700;800&display=swap"
        rel="stylesheet">

</head>
<style>
    .monet-pic {
        display: none;
    }
</style>

<body class="px-12 py-12 text-zinc-100 bg-zinc-900">
    <div class="">
        <h1 class="mb-12 font-mono text-5xl font-semibold tracking-wider text-center">Fake or Monet?</h1>
        <p class="mb-12 font-sans text-3xl font-medium leading-relaxed tracking-wide text-center">One of these is an
            authentic Claude Monet painting. The other was made by an AI. <br> Can you tell which is which?</p>
    </div>

    <div class="grid w-full grid-cols-2 gap-12 md:px-20 xl:px-40 2xl:px-48 xl:max-h-[60vh]" id="grid-container">
        <div class="flex flex-col items-center grid-col-span-1 painting-div-container" id="real-div">
            <img src="" alt="" id="real-image" class="w-full hover:cursor-pointer">
            <img src="claude-monet.jpeg" alt="" srcset=""
                class="relative h-60 border-2 border-white rounded-full monet-pic -top-[25%]">
        </div>
        <div class="flex flex-col items-center grid-col-span-1 painting-div-container" id="ai-div">
            <img src="" alt="" id="ai-image" class="w-full hover:cursor-pointer">
            <img src="claude-monet.jpeg" alt="" srcset=""
                class="relative h-60 border-2 border-white rounded-full monet-pic -top-[25%]">
            <img src="robot.png" alt="" srcset=""
                class="relative hidden h-60 bg-white border-2 border-white rounded-full robot-pic -top-[25%]"
                id="robot-pic">
        </div>
    </div>
    <div id="status-div" class="font-mono text-center">
        <h3 class="hidden text-4xl text-green-500 uppercase" id="correct-heading">Correct!</h3>
        <h3 class="hidden text-4xl text-red-500 uppercase" id="incorrect-heading">Incorrect!</h3>
    </div>
</body>
<script>
    let isInResultMode = false;

    const correctHeading = document.getElementById("correct-heading");
    const incorrectHeading = document.getElementById("incorrect-heading");

    const robotPic = document.getElementById("robot-pic");
    const correctMonetPic = document.querySelector("#real-div .monet-pic");

    let aiDiv = document.getElementById("real-div");
    let realDiv = document.getElementById("ai-div");
    let flexContainer = document.getElementById("grid-container");

    let aiPath = "";
    let realPath = "";


    let paintingDivContainers = document.querySelectorAll(".painting-div-container");
    paintingDivContainers.forEach((paintingDivContainer) => {
        paintingDivContainer.addEventListener("mouseover", (e) => {
            console.log("mouse over");
            // find the monet pic inside the div
            if (!isInResultMode) {
                let monetPic = paintingDivContainer.querySelector(".monet-pic");
                monetPic.style.display = "block";
            }
        })
        paintingDivContainer.addEventListener("mouseout", (e) => {
            console.log("mouse out");
            // find the monet pic inside the div
            if (!isInResultMode) {
                let monetPic = paintingDivContainer.querySelector(".monet-pic");
                monetPic.style.display = "none";
            }
        })
        paintingDivContainer.addEventListener("click", (e) => {
            if (isInResultMode) {
                return;
            }
            isInResultMode = true;
            document.querySelectorAll(".monet-pic").forEach((monetPic) => {
                monetPic.style.display = "none";
            });
            if (e.target.id === "real-image") {
                correctHeading.style.display = "block";
                incorrectHeading.style.display = "none";
            } else if (e.target.id === "ai-image") {
                incorrectHeading.style.display = "block";
                correctHeading.style.display = "none";
            }
            robotPic.style.display = "block";
            correctMonetPic.style.display = "block";
            setTimeout(() => {
                loadRandomImages();
                isInResultMode = false;
                robotPic.style.display = "none";
                document.querySelectorAll(".monet-pic").forEach((monetPic) => {
                    monetPic.style.display = "none";
                });
                correctHeading.style.display = "none";
                incorrectHeading.style.display = "none";
            }, 2_000);
        });
    });




    function loadRandomImages() {
        aiPath = `/dataset/ai-generated/${Math.floor(Math.random() * 100)}.jpg`;
        realPath = `/dataset/real-paintings/${Math.floor(Math.random() * 100)}.jpg`;
        document.getElementById("ai-image").src = aiPath;
        document.getElementById("real-image").src = realPath;

        if (Math.random() > 0.5) {
            aiDiv.style.order = 1;
            realDiv.style.order = 2;
            flexContainer.classList.add("grid-flow-col-dense"); // this makes the ai-div the first div visually
            // A is for the div on the left, D is for the div on the right
        } else {
            aiDiv.style.order = 2;
            realDiv.style.order = 1;
            flexContainer.classList.remove("grid-flow-col-dense");
        }
    }

    loadRandomImages();



</script>

</html>